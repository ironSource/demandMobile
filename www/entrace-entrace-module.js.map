{"version":3,"sources":["webpack:///./src/app/entrace/entrace.module.ts","webpack:///./src/app/entrace/entrace.page.html","webpack:///./src/app/entrace/entrace.page.scss","webpack:///./src/app/entrace/entrace.page.ts","webpack:///./src/app/entrace/pages/campaign-overview/campaign-overview.resolver.ts","webpack:///./src/app/entrace/pages/overview/overview.resolver.ts","webpack:///./src/app/guards/is-admin.guard.ts","webpack:///./src/app/guards/is-advertiser.guard.ts"],"names":[],"mappings":"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","file":"entrace-entrace-module.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {Routes, RouterModule} from '@angular/router';\nimport {IonicModule} from '@ionic/angular';\nimport {EntracePage} from './entrace.page';\nimport {IsAdvertiserGuard} from '../guards/is-advertiser.guard';\nimport {CampaignOverviewResolver} from './pages/campaign-overview/campaign-overview.resolver';\nimport {OverviewResolver} from './pages/overview/overview.resolver';\nimport {IsAdminGuard} from '../guards/is-admin.guard';\n\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: EntracePage,\n        children: [\n            {path: '', redirectTo: 'overview', pathMatch: 'full'},\n            {\n                path: 'overview',\n                loadChildren: './pages/overview/overview.module#OverviewModule',\n                canActivate: [IsAdvertiserGuard],\n                resolve: { campaigns: OverviewResolver }\n            },\n            {path: 'back-office', loadChildren: './pages/back-office/back-office.module#BackOfficePageModule', canActivate: [IsAdminGuard]},\n            {path: 'notifications', loadChildren: './pages/notifications/notifications.module#NotificationsPageModule'},\n            {path: 'login-as', loadChildren: './pages/login-as/login-as.module#LoginAsPageModule', canActivate: [IsAdminGuard]},\n            {\n                path: 'campaign/:id',\n                loadChildren: './pages/campaign-overview/campaign-overview.module#CampaignOverviewModule',\n                canActivate: [IsAdvertiserGuard],\n                resolve: { campaign: CampaignOverviewResolver }\n            }\n        ]\n    }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        RouterModule.forChild(routes)\n    ],\n    declarations: [EntracePage]\n})\nexport class EntracePageModule {\n}\n","module.exports = \"<ion-router-outlet main></ion-router-outlet>\"","module.exports = \".ion-item {\\n  border: 1px solid #e3e3e3; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jaGVuLmxldmluL0Rlc2t0b3AvcHJvamVjdHMvZGVtYW5kTW9iaWxlL3NyYy9hcHAvZW50cmFjZS9lbnRyYWNlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVDLHlCQUF5QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvZW50cmFjZS9lbnRyYWNlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pb24taXRlbXtcblxuXHRib3JkZXI6IDFweCBzb2xpZCAjZTNlM2UzO1xufVxuXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-entrace',\n  templateUrl: './entrace.page.html',\n  styleUrls: ['./entrace.page.scss'],\n})\nexport class EntracePage implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {Campaign} from '../overview/entities/campaign.interface';\nimport {map} from 'rxjs/operators';\nimport {CampaignService} from '../../campaign.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CampaignOverviewResolver implements Resolve<Campaign> {\n\n    constructor(private campaignService: CampaignService) {\n    }\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Campaign> {\n        return this.campaignService.getCampaignById(route.params.id);\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, Resolve, RouterStateSnapshot} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {CampaignService} from '../../campaign.service';\nimport {CampaignResponse} from './entities/campaignResponse.interface';\n\n@Injectable({\n    providedIn: 'root'\n})\n    export class OverviewResolver implements Resolve<CampaignResponse> {\n\n    constructor(private campaignService: CampaignService) {\n    }\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<CampaignResponse> {\n        return this.campaignService.getCampaigns();\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, CanActivate, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport {AuthService} from '../auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IsAdminGuard implements CanActivate {\n\n  constructor(private authService: AuthService, private router: Router) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):\n    boolean | UrlTree | Observable<boolean | UrlTree> | Promise<boolean | UrlTree> {\n    const user = this.authService.currentUser;\n    if (!user.isAdmin) {\n      this.router.navigate(['/entrace']);\n      return false;\n    }\n    return true;\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, CanActivate, Router} from '@angular/router';\nimport {Observable} from 'rxjs';\nimport {AuthService} from '../auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class IsAdvertiserGuard implements CanActivate {\n\n  constructor(private authService: AuthService, private router: Router) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):\n    boolean | UrlTree | Observable<boolean | UrlTree> | Promise<boolean | UrlTree> {\n    const user = this.authService.currentUser;\n    if (user.isAdmin && !user.loginAs) {\n      this.router.navigate(['/entrace/back-office']);\n      return false;\n    }\n    return true;\n  }\n\n}\n"],"sourceRoot":""}